---
import { fetchPage } from "@utils/payload";
import type { HeroBlock } from "@utils/payload/types";

const {navigation, blocks, country, title} = await fetchPage(["navigation", "blocks", "country", "title"])
const hero: HeroBlock = blocks.find(block => block.blockType === 'simple-hero') || {} as HeroBlock
console.log(`Hero Type: ${hero.type}`);
// import BasicFLoatingNav from "@components/PageNavigation/Navigation/FixedNav/FixedNav.astro";
import FloatingPill from "@components/PageNavigation/FloatingPill/FloatingPill.astro";
import StickyNav from "@components/PageNavigation/StickyNav/StickyNav.astro";
import BlockyNav from "./BlockyNav/BlockyNav.astro";
import SimpleNav from "./SimpleNav/SimpleNav.astro";
// import CenterNav from "./CenterNav/CenterNav.astro";
const props = Astro.props;

const fixedMenu = ["horizontal with image", "black modern", "gradient", "default", "default horizontal", "big name"].includes(hero.type) ? true : false;
const showSimpleNav = ["vertical", , "alternate vertical", "default", "default vertical", "two column", "stylised horizontal", "horizontal"].includes(hero.type)
const showPillNav = ["big name"].includes(hero.type)

const navProps = {
    title,
    navigation,
    country,
    fixedMenu: fixedMenu,
}

// console.log('Navigation Props:', navProps)
---
<!-- <StickyNav {...navProps}/> -->

{showSimpleNav && <SimpleNav {...navProps}/>}
{showPillNav && <FloatingPill {...navProps}/>}