---
import { translateFooterItem } from '@utils/translations';
import { fetchPage } from "@utils/payload";

interface Props {
    title: string;
    company: string;
    url: string;
    country: string;
}

import Container from "@components/Container.astro";
import s from "./style.module.css";

import { Image } from "astro:assets";
const { title, company, url, country } = Astro.props;

const copyright = translateFooterItem('copyright', country);
const designedByText = translateFooterItem('designed_by', country);

const { companyUrl, companyName } = await fetchPage([
	"companyUrl",
	"companyName",
]);
---

<footer class:list={[s["floating_footer"], "page-section"]}>
    <Container>
        <div class:list={[s["floating_footer__content"], "breakout"]} data-highlight="true">
            <p>
                &copy; {new Date().getFullYear()} {title.split("|")[0].trim()}. {copyright}
            </p>
            <a
                href={companyUrl}
                target="_blank"
                rel="noopener noreferrer"
                class={s["floating_footer__logo"]}
            >
                <Image
                    src="/yellow-pages-logo.webp"
                    alt="yellow pages logo"
                    width={50}
                    height={50}
                    class={s["floating_footer__logo-image"]}
                />
                <span class={s["floating_footer__logo-text"]}
                    >{designedByText} {companyName}</span
                >
            </a>
        </div>
    </Container>
</footer>
